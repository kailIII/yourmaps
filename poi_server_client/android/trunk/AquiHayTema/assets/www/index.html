<!DOCTYPE html> 
<html> 
<head> 
	<title>Aquí Hay Tema</title> 
	
	<meta name="viewport" content="width=device-width, initial-scale=1"> 

	<link rel="stylesheet" href="css/jquery.mobile-1.2.0.min.css" />
	<link rel="stylesheet" href="css/jquery.mobile.structure-1.2.0.min.css" />
	<link rel="stylesheet" href="css/jquery.mobile.theme-1.2.0.min.css" />
	<link rel="stylesheet" href="css/aquihaytema.css" />
	<script src="js/jquery-1.8.2.min.js"></script>
	<script src="js/jquery.mobile-1.2.0.min.js"></script>
	<script src="js/cordova-2.2.0.js"></script>
	<script src="js/aquihaytema.js"></script>

	
    <script type="text/javascript" charset="utf-8">
    
   

    // Call onDeviceReady when Cordova is loaded.
    //
    // Esta funcion se ejecuta ante el 'document has loaded' pero puede
    // que cordova no. Cuando lo este, llamara a `deviceready`.
    // Se ejecuta UNA UNICA VEZ al cargar el body por primera vez
    // Se ejecuta DESPUES DEL INIT de cada pagina del .js
    // Se ejecuta DESPUES DEL LIVE de cada pagina
    function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
        
    }

    // Cordova is loaded and it is now safe to call Cordova methods
    //
    function onDeviceReady() {
        // Register the event listener
        document.addEventListener("backbutton", onBackKeyDown, false);
        //$(window).bind('orientationchange', _orientationHandler);
    }

    /*function _orientationHandler(){
    if(event.orientation){
        if(event.orientation == 'portrait'){
                    //do something
        }
        else if(event.orientation == 'landscape') {
                      //do something
        }
      }
    }*/
    // Queremos anular el boton de retroceso o que cierre la aplicacion?
    function onBackKeyDown() {
    	//Cierra la aplicacion
    	if($.mobile.activePage.is('#ayuda') || $.mobile.activePage.is('#donde_hay') || 
    	   $.mobile.activePage.is('#aqui_hay')|| $.mobile.activePage.is('#configuracion')){
    		navigator.app.exitApp();
    	}
    	else
    	{
    		navigator.app.backHistory();
    	}
    }

    </script>
	
	
</head> 

<body onload="onLoad()"> 

	<!--  Pagina de bienvenida que tiene la bienvenida y una descripcion rapida de como usar la aplicacion -->
	<div data-role="page" id="ayuda" data-theme="b" data-content-theme="b">
		<header data-role="header" data-position="fixed" data-tap-toggle="false">
			<h1>Bienvenido!</h1>
		</header><!-- /header -->

		<div data-role="content" >	
			<!-- Formulario para rellenar el alias en caso de que no lo tenga -->
			<div data-role="fieldcontain" class="ui-hide-label" id="div_bienvenida_alias" >
				<form id="frmAltaAlias" name="frmAltaAlias">
					<label for="el_alias">Antes que nada, necesitas proporcionar un nombre o apodo. Puedes modificarlo en 
					cualquier momento desde las opciones de la aplicación.</label><br><br>
						<input type="text"
							name="alias_inicial" id="alias_inicial" value="" placeholder="Nombre usuario" />
					<div data-role="fieldcontain" class="ui-hide-label">
						<a href="javascript:void(0)" id="crear_alias" data-role="button" data-icon="check" data-iconpos="right" data-inline="true" data-theme="e">Guardar</a> 
					</div>
				</form>
			</div>
			<div data-role="fieldcontain" class="ui-hide-label" id="div_bienvenida" align="center">
					<label for="el_alias">En la parte inferior de la pantalla verás tres botones:</label><br><br>
					<a href="#" data-role="button" data-icon="search" data-iconpos="right" data-inline="true" data-theme="a">Dónde?</a><br>
					<label for="el_alias">Aquí podrás buscar puntos de interés que estén cerca de ti.</label><br><br>
					<a href="#" data-role="button" data-icon="check" data-iconpos="right" data-inline="true" data-theme="a">Aquí!</a><br>
					<label for="el_alias">Desde esta pantalla podrás registrar tus propios puntos.</label><br><br>
					<a href="#" data-role="button" data-icon="gear" data-iconpos="right" data-inline="true" data-theme="a">Config</a><br>
					<label for="el_alias">Y aquí podrás cambiar opciones de configuración.</label><br>
			</div>
		</div><!-- /content -->
	
		<footer data-role="footer" data-position="fixed" data-tap-toggle="false">
			<div data-role="navbar">
				<ul>
					<li><a href="#donde_hay" data-iconpos="top" data-icon="search">Dónde?</a></li>
					<li><a href="#aqui_hay" data-iconpos="top" data-icon="check">Aqui!</a></li>
					<!-- <li><a href="#ayuda" class="ui-btn-active ui-state-persist" data-iconpos="top" data-icon="info">Ayuda</a></li> -->
					<li><a href="#configuracion" data-iconpos="top" data-icon="gear">Config</a></li>
				</ul>
			</div><!-- /navbar -->
		</footer><!-- /footer -->
	</div>

	<!-- Pagina que muestra la lista de POIs donde hay tema -->
	<div data-role="page" id="donde_hay" data-theme="b" data-content-theme="b">
	
		<!-- data-tap-toggle="false" sirve para que al pinchar en un elemento de la lista de POIs, no
		desaparezca el header o el footer -->
		<header data-role="header"  data-position="fixed" data-tap-toggle="false">
			<h1>Puntos...</h1>
			<a id="refrescar_pois" href="#" data-role="button" data-icon="refresh" data-theme="b" data-iconpos="notext" class="ui-btn-right" style="top: 14px">Refrescar</a> 
			
		</header><!-- /header -->
		
		<div data-role="content">
			<ul id="listado-notas" data-role="listview" data-theme="b">
			</ul>	
		</div><!-- /content -->
	
		<footer data-role="footer" data-position="fixed" data-tap-toggle="false">
			<div data-role="navbar">
				<ul>
					<li><a href="#donde_hay" class="ui-btn-active ui-state-persist" data-iconpos="top" data-icon="search">Dónde?</a></li>
					<li><a href="#aqui_hay" data-iconpos="top" data-icon="check">Aqui!</a></li>
					<!-- <li><a href="#ayuda" data-iconpos="top" data-icon="info">Ayuda</a></li>-->
					<li><a href="#configuracion" data-iconpos="top" data-icon="gear">Config</a></li>
				</ul>
			</div><!-- /navbar -->
		</footer><!-- /footer -->
	</div>
	
	<!-- Pagina para dar de alta un punto -->
	<div data-role="page" id="aqui_hay" data-theme="b" data-content-theme="b">
		<header data-role="header"  data-position="fixed">
			<h1>Aquí hay...</h1>
		</header><!-- /header -->
		
		<div data-role="content">	
			<form id="frmNueva" name="frmNueva">
				<div data-role="fieldcontain" class="ui-hide-label">
					<input type="text"
						name="titulo" id="titulo" value="" placeholder="Titulo de la Nota" />
				</div>
				<div data-role="fieldcontain" class="ui-hide-label">
					<input type="text"
						name="fecha" id="fecha" value="" placeholder="Fecha de la Nota" />
				</div>
				<div data-role="fieldcontain" class="ui-hide-label">
					<textarea name="descripcion" id="descripcion" placeholder="Descripción de la Nota..."></textarea>
				</div>
				<div data-role="fieldcontain" class="ui-hide-label">
					<a href="#" data-role="button" data-icon="gear" data-iconpos="right" data-theme="e">Sacar foto</a> 
				</div>
				<div data-role="fieldcontain" class="ui-hide-label">
					<a href="javascript:void(0)" id="crear" data-role="button" data-icon="check" data-iconpos="right" data-theme="a">Crear Nota</a> 
				</div>
			</form>
		</div><!-- /content -->
	
		<footer data-role="footer" data-position="fixed">
			<div data-role="navbar">
				<ul>
					<li><a href="#donde_hay" data-iconpos="top" data-icon="search">Dónde?</a></li>
					<li><a href="#aqui_hay" class="ui-btn-active ui-state-persist" data-iconpos="top" data-icon="check">Aqui!</a></li>
					<!-- <li><a href="#ayuda" data-iconpos="top" data-icon="info">Ayuda</a></li>-->
					<li><a href="#configuracion" data-iconpos="top" data-icon="gear">Config</a></li>
				</ul>
			</div><!-- /navbar -->
		</footer><!-- /footer -->
	</div>
	
	<!-- Pagina que muestra la informacion completa de un POIs -->
	<div data-role="page" id="info_poi" data-theme="b" data-content-theme="b">
		<header data-role="header"  data-position="fixed" data-tap-toggle="false">
			<h1>Información del punto</h1>
		</header><!-- /header -->

		<div data-role="content">
			<h2 id="nombre_poi_val" class="field">
			Nombre del	POI
			</h2>
			<div id="descripcion_poi_val" class="field">
			Descripción del POI
			</div>
		</div><!-- /content -->
	
		<footer data-role="footer" data-position="fixed" data-tap-toggle="false">
			<div data-role="navbar">
				<ul>
					<li><a id="atras_info_poi" href="#" data-role="button" data-icon="back" data-theme="b" >Volver</a></li>
					<li><a id="ir_a_poi" href="#" data-role="button" data-icon="forward" data-theme="b" >Ver!</a></li>
				</ul>
			</div>
		</footer><!-- /footer -->
	</div>
	
	<!-- Pagina de configuracion -->
	<div data-role="page" id="configuracion" data-theme="b" data-content-theme="b">
		<header data-role="header"  data-position="fixed" data-tap-toggle="false">
			<h1>Configuración</h1>
		</header><!-- /header -->

		<div data-role="content">
			<form id="frmConfig" name="frmConfig">
				<div data-role="fieldcontain" class="ui-hide-label">
				<label for="el_alias">Escribe tu nombre o apodo: </label><br><br>
					<input type="text"
						name="alias" id="alias" value="" placeholder="Nombre usuario" />
				</div>
				<!-- TO DO: ESTO QUE SEA UN SELECT O UN SLIDER -->
				<div data-role="fieldcontain" class="ui-hide-label">
					<label for="la_distancia">Radio de búsqueda (Km): </label><br><br>
						<input type="range" name="radio_busqueda" id="radio_busqueda" data-highlight="true" step="0.5" value="5" min="0" max="15" />
				</div>
			</form>
		</div><!-- /content -->
	
		<footer data-role="footer" data-position="fixed" data-tap-toggle="false">
			<div data-role="navbar">
				<ul>
					<li><a href="#donde_hay" data-iconpos="top" data-icon="search">Dónde?</a></li>
					<li><a href="#aqui_hay"  data-iconpos="top" data-icon="check">Aqui!</a></li>
					<!-- <li><a href="#ayuda" data-iconpos="top" data-icon="info">Ayuda</a></li>-->
					<li><a href="#configuracion" class="ui-btn-active ui-state-persist" data-iconpos="top" data-icon="gear">Config</a></li>
				</ul>
			</div><!-- /navbar -->
		</footer><!-- /footer -->
	</div>
</body>
</html>